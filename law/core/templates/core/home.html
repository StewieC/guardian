{% extends 'core/base.html' %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<section class="hero">
    <div class="container">
        <div class="hero-content">
            <h1>Promoting Peace & Justice</h1>
            <p>Your comprehensive platform for legal assistance, civic education, and community safety. Empowering citizens with the tools they need for a just society.</p>
            <div class="hero-cta">
                <a href="{% url 'report_incident' %}" class="cta-button">ğŸ“¢ Report Issue</a>
            </div>
        </div>
    </div>
</section>
<section class="features-section">
    <div class="container">
        <div class="features-header">
            <h2>Comprehensive Justice Services</h2>
            <p>Everything you need to navigate legal challenges, protect your rights, and contribute to a safer community.</p>
        </div>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">âš–ï¸</div>
                <h3>Legal Assistance</h3>
                <p>Coming soon: File court cases, connect with lawyers, and get legal guidance.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ğŸ“¢</div>
                <h3>Report Incidents</h3>
                <p>Safely report incidents and injustices to the appropriate authorities with complete confidentiality.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ğŸ“š</div>
                <h3>Civic Education</h3>
                <p>Learn about your rights, laws, and civic responsibilities through our educational resources.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ğŸ“</div>
                <h3>Contact Authorities</h3>
                <p>Direct access to emergency services, police, and other relevant authorities when you need immediate help.</p>
            </div>
        </div>
    </div>
</section>
<section class="community-feed-section">
    <div class="container">
        <div class="feed-header">
            <h2>Community Safety Feed</h2>
            <p>Recent incidents in your area where community assistance is needed</p>
            <div class="location-selector">
                <label for="locationFilter" class="sr-only">Filter by location</label>
                <select id="locationFilter" title="Filter by location" onchange="filterByLocation()">
                    <option value="all">All Areas</option>
                    <option value="downtown">Downtown</option>
                    <option value="northside">Northside</option>
                    <option value="eastside">Eastside</option>
                    <option value="westside">Westside</option>
                    <option value="southside">Southside</option>
                </select>
            </div>
        </div>
        <div class="incident-feed" id="incidentFeed">
            {% for incident in incidents %}
                <div class="incident-card" data-area="{{ incident.location|lower }}">
                    <div class="incident-header">
                        <span class="incident-type">{{ incident.title }}</span>
                        <span class="incident-time">{{ incident.created_at|date:"SHORT_DATE_FORMAT" }}</span>
                    </div>
                    <div class="incident-location">ğŸ“ {{ incident.location }}</div>
                    <div class="incident-description">{{ incident.description }}</div>
                    <div class="incident-status">
                        <span class="status-badge status-pending">Pending</span>
                    </div>
                    <div class="incident-actions">
                        <button class="action-btn" onclick="alert('Providing information not yet implemented.')">ğŸ’¬ Provide Information</button>
                        <button class="action-btn secondary" onclick="alert('Sharing not yet implemented.')">ğŸ“¤ Share</button>
                        <button class="action-btn secondary" onclick="alert('Following updates not yet implemented.')">ğŸ”” Follow Updates</button>
                    </div>
                </div>
            {% empty %}
                <p style="text-align: center; color: #6b7280; padding: 2rem;">No incidents found for the selected area.</p>
            {% endfor %}
        </div>
    </div>
</section>
<script>
function filterByLocation() {
    const selectedLocation = document.getElementById('locationFilter').value;
    const incidentCards = document.querySelectorAll('.incident-card');
    incidentCards.forEach(card => {
        if (selectedLocation === 'all' || card.dataset.area === selectedLocation) {
            card.style.display = 'block';
        } else {
            card.style.display = 'none';
        }
    });
}
</script>
{% endblock %}